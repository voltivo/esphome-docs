
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="description" content="Instructions for putting Sonoff basic devices into flash mode and installing esphomelib on them.">
<meta itemprop="name" content="Using With Sonoff Basic">
<meta itemprop="description" content="Instructions for putting Sonoff basic devices into flash mode and installing esphomelib on them.">
<meta itemprop="image" content="https://esphomelib.com/_images/sonoff_basic.jpg">
<meta name="twitter:title" content="Using With Sonoff Basic">
<meta name="twitter:image:src" content="https://esphomelib.com/_images/sonoff_basic.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for putting Sonoff basic devices into flash mode and installing esphomelib on them.">
<meta property="og:title" content="Using With Sonoff Basic"/>
<meta property="og:image" content="https://esphomelib.com/_images/sonoff_basic.jpg"/>
<meta property="og:type" content="website"/>
<meta property="og:site_name" content="esphomelib"/>
<meta property="og:description" content="Instructions for putting Sonoff basic devices into flash mode and installing esphomelib on them."/>
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="theme-color" content="#DFDFDF">

    <title>Using With Sonoff Basic &#8212; ESPHome 1.10.1 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/disqus.js"></script>
    <link rel="canonical" href="https://esphomelib.com/esphomeyaml/devices/sonoff_basic.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using With Sonoff S20" href="sonoff_s20.html" />
    <link rel="prev" title="Using With Sonoff 4CH" href="sonoff_4ch.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="../../_static/apple-touch-icon.png" />
  
  
    <link rel="canonical" href="https://esphomelib.com/esphomeyaml/devices/sonoff_basic.html"/>
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-full.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using With Sonoff Basic</a><ul>
<li><a class="reference internal" href="#sample-configuration">Sample configuration</a></li>
<li><a class="reference internal" href="#more-detailed-breakdown">More detailed breakdown</a><ul>
<li><a class="reference internal" href="#programming">1. Programming</a></li>
<li><a class="reference internal" href="#put-sonoff-into-programming-mode">1.1. Put Sonoff into programming mode.</a></li>
<li><a class="reference internal" href="#upload-the-firmware">1.2. Upload the firmware</a></li>
<li><a class="reference internal" href="#and-then-nothing-will-happen">1.3. And then nothing will happen</a></li>
<li><a class="reference internal" href="#test-now-with-ota-flashing">1.4. Test now with OTA flashing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="using-with-sonoff-basic">
<h1>Using With Sonoff Basic<a class="headerlink" href="#using-with-sonoff-basic" title="Permalink to this headline">¬∂</a></h1>
<p>esphomeyaml can be used with Sonoff Basic. These devices are basically just
an ESP8266 chip with a relay to control the connection, a small button on the
front and a green LED light.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/sonoff_basic-full.jpg"><img alt="../../_images/sonoff_basic-full.jpg" src="../../_images/sonoff_basic-full.jpg" style="width: 75.0%;" /></a>
<p class="caption"><span class="caption-text">Sonoff Basic</span></p>
</div>
<p>This guide will not guide you through setting up your Sonoff Basic step-by-step. It just provide
a sample configuration. For detailed instructions, see <a class="reference internal" href="sonoff_s20.html"><span class="doc">Using With Sonoff S20</span></a>, as those devices are
pretty similar.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you‚Äôve previously installed Sonoff-Tasmota or ESPurna on your Sonoff Basic, you‚Äôre in luck üòÄ
esphomeyaml can generate a firmware binary which you can then upload via the
web interface.</p>
</div>
<div class="section" id="sample-configuration">
<h2>Sample configuration<a class="headerlink" href="#sample-configuration" title="Permalink to this headline">¬∂</a></h2>
<p>The Sonoff Basic is based on the <code class="docutils literal notranslate"><span class="pre">ESP8266</span></code> platform and is a subtype of the <code class="docutils literal notranslate"><span class="pre">esp01_1m</span></code> board.
With this information, you can also step through the esphomeyaml wizard (<code class="docutils literal notranslate"><span class="pre">esphomeyaml</span> <span class="pre">sonoff_basic.yaml</span> <span class="pre">wizard</span></code>)
if you don‚Äôt want to use the sample configuration file from below.</p>
<p>If you go through the wizard, please make sure you manually set <code class="docutils literal notranslate"><span class="pre">board_flash_mode</span></code> to <code class="docutils literal notranslate"><span class="pre">dout</span></code>
as seen below. The version of the uploader used by esphomeyaml should automatically detect that
the Sonoff Basic uses the <code class="docutils literal notranslate"><span class="pre">dout</span></code> SPI flash chip mode. But, as some users of other firmwares have
said that other flash modes can brick the device, it‚Äôs always good to specify it explicitly.</p>
<p>Below you will find a table of all usable GPIO pins of the Sonoff Basic and a configuration file that
exposes all of the basic functions.</p>
<table border="1" class="no-center docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">GPIO0</span></code></td>
<td>Button (inverted)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">GPIO1</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">RX</span></code> pin (C1 Pin 2)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">GPIO3</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">TX</span></code> pin (C1 Pin 3)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">GPIO12</span></code></td>
<td>Relay</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">GPIO13</span></code></td>
<td>Green LED (inverted)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">GPIO14</span></code></td>
<td>Optional Sensor (C1 Pin 5)</td>
</tr>
</tbody>
</table>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">esphomeyaml</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;NAME_OF_NODE&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">platform</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ESP8266</span>
  <span class="l l-Scalar l-Scalar-Plain">board</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">esp01_1m</span>
  <span class="l l-Scalar l-Scalar-Plain">board_flash_mode</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dout</span>

<span class="l l-Scalar l-Scalar-Plain">wifi</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ssid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;YOUR_SSID&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">password</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;YOUR_PASSWORD&gt;</span>

<span class="l l-Scalar l-Scalar-Plain">mqtt</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">broker</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;YOUR_MQTT_BROKER&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">username</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;YOUR_USERNAME&gt;</span>
  <span class="l l-Scalar l-Scalar-Plain">password</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;YOUR_PASSWORD&gt;</span>

<span class="l l-Scalar l-Scalar-Plain">logger</span><span class="p p-Indicator">:</span>

<span class="l l-Scalar l-Scalar-Plain">ota</span><span class="p p-Indicator">:</span>

<span class="l l-Scalar l-Scalar-Plain">binary_sensor</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">platform</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gpio</span>
    <span class="l l-Scalar l-Scalar-Plain">pin</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">number</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">GPIO0</span>
      <span class="l l-Scalar l-Scalar-Plain">mode</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">INPUT_PULLUP</span>
      <span class="l l-Scalar l-Scalar-Plain">inverted</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;Sonoff</span><span class="nv"> </span><span class="s">Basic</span><span class="nv"> </span><span class="s">Button&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">on_press</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">switch.toggle</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">relay</span>

<span class="l l-Scalar l-Scalar-Plain">switch</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">platform</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gpio</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;Sonoff</span><span class="nv"> </span><span class="s">Basic</span><span class="nv"> </span><span class="s">Relay&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">pin</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">GPIO12</span>
    <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">relay</span>

<span class="l l-Scalar l-Scalar-Plain">output</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">platform</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">esp8266_pwm</span>
    <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">basic_green_led</span>
    <span class="l l-Scalar l-Scalar-Plain">pin</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">number</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">GPIO13</span>
      <span class="l l-Scalar l-Scalar-Plain">inverted</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="l l-Scalar l-Scalar-Plain">light</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">platform</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">monochromatic</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;Sonoff</span><span class="nv"> </span><span class="s">Basic</span><span class="nv"> </span><span class="s">Green</span><span class="nv"> </span><span class="s">LED&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">output</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">basic_green_led</span>
</pre></div>
</div>
<p>Now run <code class="docutils literal notranslate"><span class="pre">esphomeyaml</span> <span class="pre">sonoff_basic.yaml</span> <span class="pre">compile</span></code> to validate the configuration and
pre-compile the firmware.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">After this step, you will be able to find the compiled binary under
<code class="docutils literal notranslate"><span class="pre">&lt;NAME_OF_NODE&gt;/.pioenvs/&lt;NAME_OF_NODE&gt;/firmware.bin</span></code>. If you‚Äôre having trouble with
uploading, you can also try uploading this file directly with other tools.</p>
</div>
<p>Or run the upload command if your device is connected to the serial interface:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>esphomeyaml sonoff_basic.yaml run
</pre></div>
</div>
</div>
<div class="section" id="more-detailed-breakdown">
<h2>More detailed breakdown<a class="headerlink" href="#more-detailed-breakdown" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="programming">
<h3>1. Programming<a class="headerlink" href="#programming" title="Permalink to this headline">¬∂</a></h3>
<p>Ensure you have soldered on the additional header pins to the PCB and connect your USB FTDI programmer.
See <a class="reference external" href="https://randomnerdtutorials.com/how-to-flash-a-custom-firmware-to-sonoff/">https://randomnerdtutorials.com/how-to-flash-a-custom-firmware-to-sonoff/</a> for more details on the pinout and FTDI.</p>
</div>
<div class="section" id="put-sonoff-into-programming-mode">
<h3>1.1. Put Sonoff into programming mode.<a class="headerlink" href="#put-sonoff-into-programming-mode" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li>Press and hold the toggle pin (long black pin next to LED and custom soldered pins).</li>
<li>Supply USB power to Sonoff via FTDI (e.g. plug in USB to the FTDI, or use a power switch as explained in link above).</li>
<li>Keep holding the toggle pin for approx 3-5 seconds now you should be ready to program. If you get a message unable to communicate when trying flash, check your TX/RX pin or retry entering boot mode again.</li>
</ul>
<p>Quick notes:</p>
<ul class="simple">
<li>3.3V setting on FTDI, 5V will cause damage.</li>
<li>Ensure the connections on the PCB starts at  the closed to the toggle pin, it uses 4 pins, but 5 pins are soldered on.</li>
<li>TX and RX should be swapped - RX on Sonoff goes to TX on FTDI.</li>
</ul>
</div>
<div class="section" id="upload-the-firmware">
<h3>1.2. Upload the firmware<a class="headerlink" href="#upload-the-firmware" title="Permalink to this headline">¬∂</a></h3>
<p>Run this command from the same directory where your &lt;my-awesome&gt;.yaml file is located</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>esphomeyaml &lt;my-awesome&gt;.yaml run
</pre></div>
</div>
<p>Or if you‚Äôre using the dashboard, just click the ‚ÄúUPLOAD‚Äù button.</p>
<p>You should get an output starting like this</p>
<div class="highlight-text notranslate"><div class="highlight"><pre>INFO Reading configuration...
INFO Detected timezone &#39;SAST&#39; with UTC offset 2
INFO Generating C++ source...
INFO Compiling app...
INFO Running:  platformio run -d fishpond
********************************************************************************************************
Obsolete PIO Core v3.6.3 is used (previous was 3.6.4b1)
Please remove multiple PIO Cores from a system:
https://docs.platformio.org/page/faq.html#multiple-pio-cores-in-a-system
...
lots of compile stuff
...
Memory Usage -&gt; http://bit.ly/pio-memory-usage
DATA:    [======    ]  55.6% (used 45512 bytes from 81920 bytes)
PROGRAM: [====      ]  38.1% (used 390576 bytes from 1023984 bytes)
===================================== [SUCCESS] Took 4.70 seconds =====================================
INFO Successfully compiled program.
Found multiple options, please choose one:
  [1] /dev/ttyUSB0 (FT232R USB UART)
  [2] Over The Air (fishpond.device)
(number): 1
INFO Running:  esptool.py --before default_reset --after hard_reset --chip esp8266 --port /dev/ttyUSB0 write_flash 0x0 fishpond/.pioenvs/fishpond/firmware.bin
esptool.py v2.6
Serial port /dev/ttyUSB0
Connecting....
Chip is ESP8266EX
Features: WiFi
MAC: xx:xx:xx:xx:xx:xx
Uploading stub...
Running stub...
Stub running...
Configuring flash size...
Auto-detected Flash size: 1MB
Compressed 394720 bytes to 267991...
Wrote 394720 bytes (267991 compressed) at 0x00000000 in 23.8 seconds (effective 132.7 kbit/s)...
Hash of data verified.

Leaving...
Hard resetting via RTS pin...
INFO Successfully uploaded program.
INFO Starting log output from /dev/ttyUSB0 with baud rate 115200
</pre></div>
</div>
</div>
<div class="section" id="and-then-nothing-will-happen">
<h3>1.3. And then nothing will happen<a class="headerlink" href="#and-then-nothing-will-happen" title="Permalink to this headline">¬∂</a></h3>
<p>Once you have flashed the device, nothing will happen. You need to power cycle the device. You will notice the LED will start to flash and then becomes solid once connected to the WiFi network.</p>
<p>You can follow the logs produced by the running module by running the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>esphomeyaml &lt;my-awesome&gt;.yaml logs
</pre></div>
</div>
<p>Your output will possibly look like this</p>
<div class="highlight-text notranslate"><div class="highlight"><pre>INFO Reading configuration...
INFO Detected timezone &#39;SAST&#39; with UTC offset 2
INFO Starting log output from fishpond.device using esphomelib API
INFO Connecting to fishpond.device:6053 (192.168.13.15)
INFO Successfully connected to fishpond.device
[11:13:27][D][time.homeassistant:029]: Synchronized time: Wed Jan 16 11:13:27 2019
[11:13:27][I][application:097]: You&#39;re running esphomelib v1.10.1 compiled on Jan 16 2019, 08:12:59
[11:13:27][C][status_led:023]: Status LED:
[11:13:27][C][status_led:024]:   Pin: GPIO13 (Mode: OUTPUT)
[11:13:27][C][wifi:341]: WiFi:
[11:13:27][C][wifi:240]:   SSID: &#39;some-ssid&#39;
[11:13:27][C][wifi:241]:   IP Address: 192.168.13.15
[11:13:27][C][wifi:243]:   BSSID: xx:xx:xx:xx:xx:xx
[11:13:27][C][wifi:245]:   Hostname: &#39;fishpond&#39;
[11:13:27][C][wifi:250]:   Signal strength: -91 dB ‚ñÇ‚ñÑ‚ñÜ‚ñà
[11:13:27][C][wifi:251]:   Channel: 1
[11:13:27][C][wifi:252]:   Subnet: 255.255.255.0
[11:13:27][C][wifi:253]:   Gateway: 192.168.13.1
[11:13:27][C][wifi:254]:   DNS1: 192.168.13.1
[11:13:27][C][wifi:255]:   DNS2: 0.0.0.0
[11:13:27][C][binary_sensor.status:046]: Status Binary Sensor &#39;esp_fishpond_system_status&#39;
[11:13:27][C][binary_sensor.status:046]:   Device Class: &#39;connectivity&#39;
[11:13:28][C][switch.gpio:049]: GPIO Switch &#39;esp_fishpond_gpio12&#39;
[11:13:28][C][switch.gpio:050]:   Pin: GPIO12 (Mode: OUTPUT)
[11:13:28][C][switch.gpio:066]:   Restore Mode: Restore (Default to OFF)
[11:13:28][C][binary_sensor.gpio:023]: GPIO Binary Sensor &#39;esp_fishpond_gpio0&#39;
[11:13:28][C][binary_sensor.gpio:024]:   Pin: GPIO0 (Mode: INPUT, INVERTED)
[11:13:28][C][binary_sensor.gpio:023]: GPIO Binary Sensor &#39;esp_fishpond_gpio14&#39;
[11:13:28][C][binary_sensor.gpio:024]:   Pin: GPIO14 (Mode: INPUT_PULLUP)
[11:13:28][C][output.esp8266_pwm:028]: ESP8266 PWM:
[11:13:28][C][output.esp8266_pwm:029]:   Pin: GPIO13 (Mode: OUTPUT)
[11:13:28][C][output.esp8266_pwm:030]:   Frequency: 1000.0 Hz
[11:13:28][C][logger:099]: Logger:
[11:13:28][C][logger:100]:   Level: DEBUG
[11:13:28][C][logger:101]:   Log Baud Rate: 115200
[11:13:28][C][light.state:266]: Light &#39;esp_fishpond_gpio13&#39;
[11:13:28][C][light.state:268]:   Default Transition Length: 1000 ms
[11:13:28][C][light.state:269]:   Gamma Correct: 2.80
[11:13:28][C][switch.restart:034]: Restart Switch &#39;esp_fishpond_system_restart&#39;
[11:13:28][C][switch.restart:034]:   Icon: &#39;mdi:restart&#39;
[11:13:28][C][time.homeassistant:032]: Home Assistant Time:
[11:13:28][C][time.homeassistant:033]:   Timezone: &#39;SAST-2&#39;
[11:13:28][C][sensor.wifi_signal:042]: WiFi Signal &#39;esp_fishpond_system_wifi_signal&#39;
[11:13:28][C][sensor.wifi_signal:042]:   Unit of Measurement: &#39;dB&#39;
[11:13:28](Message skipped because it was too big to fit in TCP buffer - This is only cosmetic)
[11:13:28](Message skipped because it was too big to fit in TCP buffer - This is only cosmetic)
[11:13:28][C][api:072]: API Server:
[11:13:28][C][api:073]:   Address: 192.168.13.15:6053
[11:13:28][C][ota:129]: Over-The-Air Updates:
[11:13:28][C][ota:130]:   Address: 192.168.13.15:8266
</pre></div>
</div>
</div>
<div class="section" id="test-now-with-ota-flashing">
<h3>1.4. Test now with OTA flashing<a class="headerlink" href="#test-now-with-ota-flashing" title="Permalink to this headline">¬∂</a></h3>
<p>Before installing the Sonoff, do a final OTA test, and this time selecting the OTA option and NOT the USB option when reflashing.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>esphomeyaml &lt;my-awesome&gt;.yaml run
</pre></div>
</div>
<p>Once these actions succeeded you are pretty much in the clear and can be sure your device is ready.</p>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¬∂</a></h2>
<ul class="simple">
<li><a class="reference internal" href="sonoff.html"><span class="doc">Generic Sonoff</span></a></li>
<li><a class="reference internal" href="sonoff_4ch.html"><span class="doc">Using With Sonoff 4CH</span></a></li>
<li><a class="reference internal" href="sonoff_s20.html"><span class="doc">Using With Sonoff S20</span></a></li>
<li><a class="reference internal" href="../cookbook/sonoff-fishpond-pump.html"><span class="doc">Cookbook: Sonoff Fish Pond Pump</span></a></li>
<li><a class="reference external" href="https://github.com/arendst/Sonoff-Tasmota/wiki/GPIO-Locations">GPIO locations</a></li>
<li><a class="reference external" href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/devices/sonoff_basic.rst">Edit this page on GitHub</a></li>
</ul>
<div data-disqus-identifier="esphomeyaml-devices-sonoff_basic" id="disqus_thread"></div></div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div class="footer">
    <a href="/misc/privacy.html">Privacy Policy</a>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 1.10.1 üéâ
    <a id="upgrade-footer-changelog" href="/esphomeyaml/changelog/index.html">View Changelog</a>
  </div>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113203480-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-113203480-2', {'anonymize_ip': true});
  </script>

  <script>
    var old = window.localStorage.getItem("release");
    if (old === null) {
      window.localStorage.setItem("release", "1.10.1");
    } else if (old !== "1.10.1") {
      document.getElementById("upgrade-footer").classList.add("not-hidden");
      document.getElementById("upgrade-footer-changelog").addEventListener('click', function () {
        window.localStorage.setItem("release", "1.10.1");
      });
    }
  </script>

  </body>
</html>