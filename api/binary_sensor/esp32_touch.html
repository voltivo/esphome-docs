
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ESP32 Touch Binary Sensor &#8212; esphomelib 1.9.1 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://esphomelib.com/api/binary_sensor/esp32_touch.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="GPIO Binary Sensor" href="gpio.html" />
    <link rel="prev" title="Binary Sensor" href="index.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="../../_static/apple-touch-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-full.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ESP32 Touch Binary Sensor</a><ul>
<li><a class="reference internal" href="#example-usage">Example Usage</a></li>
<li><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="esp32-touch-binary-sensor">
<h1>ESP32 Touch Binary Sensor<a class="headerlink" href="#esp32-touch-binary-sensor" title="Permalink to this headline">¶</a></h1>
<div class="section" id="example-usage">
<h2>Example Usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span class="k">auto</span> <span class="o">*</span><span class="n">touch</span> <span class="o">=</span> <span class="n">App</span><span class="p">.</span><span class="n">make_esp32_touch_component</span><span class="p">();</span>
<span class="n">touch</span><span class="o">-&gt;</span><span class="n">set_setup_mode</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<span class="n">touch</span><span class="o">-&gt;</span><span class="n">set_iir_filter</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="n">App</span><span class="p">.</span><span class="n">register_binary_sensor</span><span class="p">(</span><span class="n">touch_hub</span><span class="o">-&gt;</span><span class="n">make_touch_pad</span><span class="p">(</span><span class="s">&quot;ESP32 Touch Pad 9&quot;</span><span class="p">,</span> <span class="n">TOUCH_PAD_NUM9</span><span class="p">,</span> <span class="mi">1000</span><span class="p">));</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../core/application.html#_CPPv3N11Application26make_esp32_touch_componentEv" title="Application::make_esp32_touch_component"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Application::make_esp32_touch_component()</span></code></a>.</p>
</div>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponentE">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponentE"></span><span id="binary_sensor::ESP32TouchComponent"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component"></span><em class="property">class </em><code class="descname">ESP32TouchComponent</code> : <em class="property">public</em> <a class="reference internal" href="../core/component.html#_CPPv39Component" title="Component">Component</a><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponentE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This class is a hub for all touch pads on the ESP32 and only one of these can exist at once. </p>
<p>With this component you can use any of the touch-enabled pins of the ESP32 to detected touches using the internal touch peripheral. It works by rapidly charging the touch pads and measuring how long it takes for them to discharge again. This process is done many times on all touch pins and the result is a 16-bit unsigned value. This value is usually around 0-800 when a touch has been detected and around 1000-2000 when no touch has been detected. So the smaller the value, the more likely a touch is happening. Note that this value varies greatly between all touch pins and also between boards.</p>
<p>This component uses the measured touch value and applies a simple threshold. If the measured value is below the threshold, the binary sensor for a touch pad will go ON, and if it’s above, the binary sensor will report an OFF state again.</p>
<p>If you notice the values have a lot of noise for your device and cause many false-positive touch events, you can optionally setup an IIR <a class="reference internal" href="index.html#classbinary__sensor_1_1_filter"><span class="std std-ref">Filter</span></a> for globally across all touch pads. If this filter value is large (100 ms+) the touch pad will become less responsive and only trigger if the user touches it for a longer time, but fewer ghost touch events will happen. The IIR <a class="reference internal" href="index.html#classbinary__sensor_1_1_filter"><span class="std std-ref">Filter</span></a> is off by default.</p>
<p>Additionally, if you want to tinker around with the internal values for esp-idf in order to improve performance and decrease power usage, you can use the set_sleep_cycle, <code class="docutils literal notranslate"><span class="pre">set_meas_cycle()</span></code>, <code class="docutils literal notranslate"><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a0a08aef20f58bd99d9e93b90b8a64823"><span class="std std-ref"><span class="pre">set_low_voltage_reference()</span></span></a></code>, <code class="docutils literal notranslate"><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a46578ea7ba47e2d1b9f5c45dee907ba4"><span class="std std-ref"><span class="pre">set_high_voltage_reference()</span></span></a></code> and <code class="docutils literal notranslate"><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1af82967da49a4f9be8c6e4f81720f5b6c"><span class="std std-ref"><span class="pre">set_voltage_attenuation()</span></span></a></code> methods.</p>
<p>When setting up the threshold values, it can be useful to get the “real” measured touch values and not just the binary ON/OFF state. For this there’s the <code class="docutils literal notranslate"><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a17123f2f3bd7ed3321f3eff9ddee5020"><span class="std std-ref"><span class="pre">set_setup_mode()</span></span></a></code> method which can be used to enable, as the name implies, a setup mode. In this mode the component will regularly send out the measured touch values in the logs using the DEBUG log level. Be sure to turn it off again afterwards! </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent14make_touch_padERKNSt6stringE11touch_pad_t8uint16_t">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent14make_touch_padERKNSt6stringE11touch_pad_t8uint16_t"></span><span id="binary_sensor::ESP32TouchComponent::make_touch_pad__ssCR.touch_pad_t.uint16_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a30506029bce00216a91675ce93a8612d"></span><a class="reference internal" href="#_CPPv3N13binary_sensor22ESP32TouchBinarySensorE" title="binary_sensor::ESP32TouchBinarySensor">ESP32TouchBinarySensor</a> *<code class="descname">make_touch_pad</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em>, touch_pad_t <em>touch_pad</em>, uint16_t <em>threshold</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent14make_touch_padERKNSt6stringE11touch_pad_t8uint16_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create a single touch pad binary sensor using the provided threshold value. </p>
<p>Values for touch_pad can be:</p>
<p><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM0</span></code> (GPIO 4)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM1</span></code> (GPIO 0)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM2</span></code> (GPIO 2)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM3</span></code> (GPIO 15)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM4</span></code> (GPIO 13)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM5</span></code> (GPIO 12)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM6</span></code> (GPIO 14)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM7</span></code> (GPIO 27)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM8</span></code> (GPIO 33)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_PAD_NUM9</span></code> (GPIO 32)</li>
</ul>
</p>
<p>Additionally, you need to register the touch pad in the application instance like this:</p>
<p><div class="highlight-yaml notranslate"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">App.register_binary_sensor(</span>
    <span class="l l-Scalar l-Scalar-Plain">touch_hub-&gt;make_touch_pad(&quot;ESP32 Touch Pad 9&quot;, TOUCH_PAD_NUM9, 1000)</span>
<span class="l l-Scalar l-Scalar-Plain">);</span>
</pre></div>
</div>
</p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a17123f2f3bd7ed3321f3eff9ddee5020"><span class="std std-ref">set_setup_mode</span></a> for finding values for the threshold parameter. </dd>
<dt><strong>Return</strong></dt>
<dd>An <a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_binary_sensor"><span class="std std-ref">ESP32TouchBinarySensor</span></a> that needs to be registered in the <a class="reference internal" href="../core/application.html#class_application"><span class="std std-ref">Application</span></a> instance. </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">name</span></code>: The name of the binary sensor. </li>
<li><code class="docutils literal notranslate"><span class="pre">touch_pad</span></code>: The touch pad to use. </li>
<li><code class="docutils literal notranslate"><span class="pre">threshold</span></code>: The threshold touch value for detecting touches, smaller means higher probability that a touch is active. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent14set_setup_modeEb">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent14set_setup_modeEb"></span><span id="binary_sensor::ESP32TouchComponent::set_setup_mode__b"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a17123f2f3bd7ed3321f3eff9ddee5020"></span>void <code class="descname">set_setup_mode</code><span class="sig-paren">(</span>bool <em>setup_mode</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent14set_setup_modeEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Put this hub into a setup mode in which all touch pad readings will be fed into the debug logs. </p>
<p>Be sure to turn this off again after determining the required threshold values for each touch pad!</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">setup_mode</span></code>: The new setup mode, default is OFF (false). </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent14set_iir_filterE8uint32_t">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent14set_iir_filterE8uint32_t"></span><span id="binary_sensor::ESP32TouchComponent::set_iir_filter__uint32_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1ae73068748c5474d6cb78ab67607a615b"></span>void <code class="descname">set_iir_filter</code><span class="sig-paren">(</span>uint32_t <em>iir_filter</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent14set_iir_filterE8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Setup an infinite impulse response filter to improve accuracy of the touch readings. </p>
<p>See <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/api-reference/peripherals/touch_pad.html#filtering-of-measurements for more information">Filtering Pulses</a>. Good values for this can be 20ms or so, but often the default of no filter works just fine.</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">iir_filter</span></code>: The new IIR <a class="reference internal" href="index.html#classbinary__sensor_1_1_filter"><span class="std std-ref">Filter</span></a> period in ms. Default is OFF (0). </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent18set_sleep_durationE8uint16_t">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent18set_sleep_durationE8uint16_t"></span><span id="binary_sensor::ESP32TouchComponent::set_sleep_duration__uint16_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a4b3f6c00aa7335e4266762649a09feea"></span>void <code class="descname">set_sleep_duration</code><span class="sig-paren">(</span>uint16_t <em>sleep_duration</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent18set_sleep_durationE8uint16_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set how many RTC SLOW clock cycles (150kHz) the touch peripheral should sleep between measurements. </p>
<p>Smaller values can improve power usage, but negatively affect response times.</p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1ad7c7c04fdfe772364f9dd676d3e537d3"><span class="std std-ref">set_measurement_duration</span></a> </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">sleep_duration</span></code>: The sleep length. Default is 4096 (27.3 ms) </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent24set_measurement_durationE8uint16_t">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent24set_measurement_durationE8uint16_t"></span><span id="binary_sensor::ESP32TouchComponent::set_measurement_duration__uint16_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1ad7c7c04fdfe772364f9dd676d3e537d3"></span>void <code class="descname">set_measurement_duration</code><span class="sig-paren">(</span>uint16_t <em>meas_cycle</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent24set_measurement_durationE8uint16_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set how many APB clock cycles (8MHz) the touch pad peripheral should stay active for measuring. </p>
<p>Higher values can improve response times, but negatively affect power usage.</p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a4b3f6c00aa7335e4266762649a09feea"><span class="std std-ref">set_sleep_duration</span></a> </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">meas_cycle</span></code>: The measurement cycle length. Default is the maximum of 65535 (8ms). </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent25set_low_voltage_referenceE16touch_low_volt_t">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent25set_low_voltage_referenceE16touch_low_volt_t"></span><span id="binary_sensor::ESP32TouchComponent::set_low_voltage_reference__touch_low_volt_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a0a08aef20f58bd99d9e93b90b8a64823"></span>void <code class="descname">set_low_voltage_reference</code><span class="sig-paren">(</span>touch_low_volt_t <em>low_voltage_reference</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent25set_low_voltage_referenceE16touch_low_volt_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the touch sensor low voltage reference for discharging. </p>
<p>Use this together with set_high_voltage_reference to improve touch detection. A higher difference between the high and low voltage means that more discharge/charge cycles can be made and thus increase the sensitivity. However, a smaller gap usually also means that more noise will be generated, but that can be alleviated with the IIR software filter.</p>
<p>Possible values are:</p>
<p><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_LVOLT_0V5</span></code> (default)</li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_LVOLT_0V6</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_LVOLT_0V7</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_LVOLT_0V8</span></code></li>
</ul>
</p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a46578ea7ba47e2d1b9f5c45dee907ba4"><span class="std std-ref">set_high_voltage_reference</span></a> and <a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1af82967da49a4f9be8c6e4f81720f5b6c"><span class="std std-ref">set_voltage_attenuation</span></a> </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">low_voltage_reference</span></code>: The new low voltage reference. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent26set_high_voltage_referenceE17touch_high_volt_t">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent26set_high_voltage_referenceE17touch_high_volt_t"></span><span id="binary_sensor::ESP32TouchComponent::set_high_voltage_reference__touch_high_volt_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a46578ea7ba47e2d1b9f5c45dee907ba4"></span>void <code class="descname">set_high_voltage_reference</code><span class="sig-paren">(</span>touch_high_volt_t <em>high_voltage_reference</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent26set_high_voltage_referenceE17touch_high_volt_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the touch sensor high voltage reference for charging. </p>
<p>Use this together with set_low_voltage_reference to improve touch detection. A higher difference between the high and low voltage means that more discharge/charge cycles can be made and thus increase the sensitivity. However, a smaller gap usually also means that more noise will be generated, but that can be alleviated with the IIR software filter.</p>
<p>Possible values are:</p>
<p><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_HVOLT_2V4</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_HVOLT_2V5</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_HVOLT_2V6</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_HVOLT_2V7</span></code> (default)</li>
</ul>
</p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a0a08aef20f58bd99d9e93b90b8a64823"><span class="std std-ref">set_low_voltage_reference</span></a> and <a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1af82967da49a4f9be8c6e4f81720f5b6c"><span class="std std-ref">set_voltage_attenuation</span></a> </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">high_voltage_reference</span></code>: The new high voltage reference. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent23set_voltage_attenuationE18touch_volt_atten_t">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent23set_voltage_attenuationE18touch_volt_atten_t"></span><span id="binary_sensor::ESP32TouchComponent::set_voltage_attenuation__touch_volt_atten_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1af82967da49a4f9be8c6e4f81720f5b6c"></span>void <code class="descname">set_voltage_attenuation</code><span class="sig-paren">(</span>touch_volt_atten_t <em>voltage_attenuation</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent23set_voltage_attenuationE18touch_volt_atten_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the voltage attenuation of the touch peripheral. </p>
<p>Possible values are:</p>
<p><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_HVOLT_ATTEN_1V5</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_HVOLT_ATTEN_1V</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_HVOLT_ATTEN_0V5</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TOUCH_HVOLT_ATTEN_0V</span></code> (default)</li>
</ul>
</p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd><a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a0a08aef20f58bd99d9e93b90b8a64823"><span class="std std-ref">set_low_voltage_reference</span></a> and <a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a46578ea7ba47e2d1b9f5c45dee907ba4"><span class="std std-ref">set_high_voltage_reference</span></a> </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">voltage_attenuation</span></code>: The new voltage attenuation </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent5setupEv">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent5setupEv"></span><span id="binary_sensor::ESP32TouchComponent::setup"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a2e8760e514e2f56c89d1332bc3e53b67"></span>void <code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent5setupEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Where the component’s initialization should happen. </p>
<p>Analogous to Arduino’s <a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a2e8760e514e2f56c89d1332bc3e53b67"><span class="std std-ref">setup()</span></a>. This method is guaranteed to only be called once. Defaults to doing nothing. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent11dump_configEv">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent11dump_configEv"></span><span id="binary_sensor::ESP32TouchComponent::dump_config"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a7242df532dd0d9fabce23589db7105fe"></span>void <code class="descname">dump_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent11dump_configEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="function">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent4loopEv">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent4loopEv"></span><span id="binary_sensor::ESP32TouchComponent::loop"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a3675cfc0f742471c8a675f0167ee4f04"></span>void <code class="descname">loop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent4loopEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This method will be called repeatedly. </p>
<p>Analogous to Arduino’s <a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a3675cfc0f742471c8a675f0167ee4f04"><span class="std std-ref">loop()</span></a>. <a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a2e8760e514e2f56c89d1332bc3e53b67"><span class="std std-ref">setup()</span></a> is guaranteed to be called before this. Defaults to doing nothing. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv3NK13binary_sensor19ESP32TouchComponent18get_setup_priorityEv">
<span id="_CPPv2NK13binary_sensor19ESP32TouchComponent18get_setup_priorityEv"></span><span id="binary_sensor::ESP32TouchComponent::get_setup_priorityC"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1accf6a0886fa98ba6f9f1e2a3331713d4"></span>float <code class="descname">get_setup_priority</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv3NK13binary_sensor19ESP32TouchComponent18get_setup_priorityEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>priority of <a class="reference internal" href="#classbinary__sensor_1_1_e_s_p32_touch_component_1a2e8760e514e2f56c89d1332bc3e53b67"><span class="std std-ref">setup()</span></a>. </p>
<p>higher -&gt; executed earlier</p>
<p>Defaults to 0.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>The setup priority of this component </dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="function">
<dt id="_CPPv3NK13binary_sensor19ESP32TouchComponent19iir_filter_enabled_Ev">
<span id="_CPPv2NK13binary_sensor19ESP32TouchComponent19iir_filter_enabled_Ev"></span><span id="binary_sensor::ESP32TouchComponent::iir_filter_enabled_C"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1aa2a20a105125579c548a93a74e9475c9"></span>bool <code class="descname">iir_filter_enabled_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv3NK13binary_sensor19ESP32TouchComponent19iir_filter_enabled_Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Is the IIR filter enabled? </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="member">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent12sleep_cycle_E">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent12sleep_cycle_E"></span><span id="binary_sensor::ESP32TouchComponent::sleep_cycle___uint16_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1aa056da1491e03b98cf3f9dd36fc05627"></span>uint16_t <code class="descname">sleep_cycle_</code> = {4096}<a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent12sleep_cycle_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent11meas_cycle_E">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent11meas_cycle_E"></span><span id="binary_sensor::ESP32TouchComponent::meas_cycle___uint16_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1ae18a2770e98cb92b3896591f59cc4e84"></span>uint16_t <code class="descname">meas_cycle_</code> = {65535}<a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent11meas_cycle_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent22low_voltage_reference_E">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent22low_voltage_reference_E"></span><span id="binary_sensor::ESP32TouchComponent::low_voltage_reference___touch_low_volt_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a64c8854b14533b0e93cb274bbc78c3e6"></span>touch_low_volt_t <code class="descname">low_voltage_reference_</code> = {TOUCH_LVOLT_0V5}<a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent22low_voltage_reference_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent23high_voltage_reference_E">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent23high_voltage_reference_E"></span><span id="binary_sensor::ESP32TouchComponent::high_voltage_reference___touch_high_volt_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a250486cf3dcdc59ab95ab8e99fd634fb"></span>touch_high_volt_t <code class="descname">high_voltage_reference_</code> = {TOUCH_HVOLT_2V7}<a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent23high_voltage_reference_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent20voltage_attenuation_E">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent20voltage_attenuation_E"></span><span id="binary_sensor::ESP32TouchComponent::voltage_attenuation___touch_volt_atten_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a7224a51dc38429f9d0043210f03186f0"></span>touch_volt_atten_t <code class="descname">voltage_attenuation_</code> = {TOUCH_HVOLT_ATTEN_0V}<a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent20voltage_attenuation_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent9children_E">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent9children_E"></span><span id="binary_sensor::ESP32TouchComponent::children___std::vector:ESP32TouchBinarySensorP:"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a399c6fdf605f2c741c95fee29f69b689"></span>std::vector&lt;<a class="reference internal" href="#_CPPv3N13binary_sensor22ESP32TouchBinarySensorE" title="binary_sensor::ESP32TouchBinarySensor">ESP32TouchBinarySensor</a> *&gt; <code class="descname">children_</code><a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent9children_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent11setup_mode_E">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent11setup_mode_E"></span><span id="binary_sensor::ESP32TouchComponent::setup_mode___b"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a757d7e7bead7f0f16a9b119c8e59f119"></span>bool <code class="descname">setup_mode_</code> = {false}<a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent11setup_mode_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor19ESP32TouchComponent11iir_filter_E">
<span id="_CPPv2N13binary_sensor19ESP32TouchComponent11iir_filter_E"></span><span id="binary_sensor::ESP32TouchComponent::iir_filter___uint32_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_component_1a9eabf38a35c2025625dd4a208661d52e"></span>uint32_t <code class="descname">iir_filter_</code> = {0}<a class="headerlink" href="#_CPPv3N13binary_sensor19ESP32TouchComponent11iir_filter_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="class">
<dt id="_CPPv3N13binary_sensor22ESP32TouchBinarySensorE">
<span id="_CPPv2N13binary_sensor22ESP32TouchBinarySensorE"></span><span id="binary_sensor::ESP32TouchBinarySensor"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_binary_sensor"></span><em class="property">class </em><code class="descname">ESP32TouchBinarySensor</code> : <em class="property">public</em> binary_sensor::<a class="reference internal" href="index.html#_CPPv3N13binary_sensor12BinarySensorE" title="binary_sensor::BinarySensor">BinarySensor</a><a class="headerlink" href="#_CPPv3N13binary_sensor22ESP32TouchBinarySensorE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Simple helper class to expose a touch pad value as a binary sensor. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="_CPPv3N13binary_sensor22ESP32TouchBinarySensor22ESP32TouchBinarySensorERKNSt6stringE11touch_pad_t8uint16_t">
<span id="_CPPv2N13binary_sensor22ESP32TouchBinarySensor22ESP32TouchBinarySensorERKNSt6stringE11touch_pad_t8uint16_t"></span><span id="binary_sensor::ESP32TouchBinarySensor::ESP32TouchBinarySensor__ssCR.touch_pad_t.uint16_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_binary_sensor_1a2d3c3cde7157ef575568c0ae2bc60186"></span><code class="descname">ESP32TouchBinarySensor</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em>, touch_pad_t <em>touch_pad</em>, uint16_t <em>threshold</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv3N13binary_sensor22ESP32TouchBinarySensor22ESP32TouchBinarySensorERKNSt6stringE11touch_pad_t8uint16_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="function">
<dt id="_CPPv3NK13binary_sensor22ESP32TouchBinarySensor13get_touch_padEv">
<span id="_CPPv2NK13binary_sensor22ESP32TouchBinarySensor13get_touch_padEv"></span><span id="binary_sensor::ESP32TouchBinarySensor::get_touch_padC"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_binary_sensor_1a33b5064a769640aff2388040196a9ff5"></span>touch_pad_t <code class="descname">get_touch_pad</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv3NK13binary_sensor22ESP32TouchBinarySensor13get_touch_padEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="function">
<dt id="_CPPv3NK13binary_sensor22ESP32TouchBinarySensor13get_thresholdEv">
<span id="_CPPv2NK13binary_sensor22ESP32TouchBinarySensor13get_thresholdEv"></span><span id="binary_sensor::ESP32TouchBinarySensor::get_thresholdC"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_binary_sensor_1aef5e00b0cbd38b81b552314f5d43aa20"></span>uint16_t <code class="descname">get_threshold</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv3NK13binary_sensor22ESP32TouchBinarySensor13get_thresholdEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="member">
<dt>
<span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_binary_sensor_1a3f4ee6cf5135f2e6d5dad3fdb22b8cd1"></span><code class="descname">friend binary_sensor::ESP32TouchBinarySensor::ESP32TouchComponent</code></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor22ESP32TouchBinarySensor10touch_pad_E">
<span id="_CPPv2N13binary_sensor22ESP32TouchBinarySensor10touch_pad_E"></span><span id="binary_sensor::ESP32TouchBinarySensor::touch_pad___touch_pad_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_binary_sensor_1a3ef8ffde1d2e8be539da8185f6c16d2e"></span>touch_pad_t <code class="descname">touch_pad_</code><a class="headerlink" href="#_CPPv3N13binary_sensor22ESP32TouchBinarySensor10touch_pad_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor22ESP32TouchBinarySensor10threshold_E">
<span id="_CPPv2N13binary_sensor22ESP32TouchBinarySensor10threshold_E"></span><span id="binary_sensor::ESP32TouchBinarySensor::threshold___uint16_t"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_binary_sensor_1a27764f723a22adb3f94aa4c4e700a716"></span>uint16_t <code class="descname">threshold_</code><a class="headerlink" href="#_CPPv3N13binary_sensor22ESP32TouchBinarySensor10threshold_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor22ESP32TouchBinarySensor11last_state_E">
<span id="_CPPv2N13binary_sensor22ESP32TouchBinarySensor11last_state_E"></span><span id="binary_sensor::ESP32TouchBinarySensor::last_state___b"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_binary_sensor_1a8046634f1c3bf9998eb5f7b5009bab71"></span>bool <code class="descname">last_state_</code> = {false}<a class="headerlink" href="#_CPPv3N13binary_sensor22ESP32TouchBinarySensor11last_state_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv3N13binary_sensor22ESP32TouchBinarySensor15is_first_state_E">
<span id="_CPPv2N13binary_sensor22ESP32TouchBinarySensor15is_first_state_E"></span><span id="binary_sensor::ESP32TouchBinarySensor::is_first_state___b"></span><span class="target" id="classbinary__sensor_1_1_e_s_p32_touch_binary_sensor_1adc69e9273951c043c6a9cafe087e02d0"></span>bool <code class="descname">is_first_state_</code> = {true}<a class="headerlink" href="#_CPPv3N13binary_sensor22ESP32TouchBinarySensor15is_first_state_E" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      
      
      
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>